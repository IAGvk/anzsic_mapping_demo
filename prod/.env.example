# ─────────────────────────────────────────────────────────────────────────────
# ANZSIC Classifier — Environment Variables
# Copy this file to .env and fill in your values.
# Never commit .env to version control.
# ─────────────────────────────────────────────────────────────────────────────

# ── Provider selection ───────────────────────────────────────────────────────
# Controls which adapter is used for embeddings and LLM re-ranking.
# Valid values: vertex | openai
# Leave as "vertex" for GCP/AI-team users; set to "openai" for OpenAI users.
EMBED_PROVIDER=vertex
LLM_PROVIDER=vertex

# ── OpenAI ────────────────────────────────────────────────────────────────────
# Only required when EMBED_PROVIDER=openai or LLM_PROVIDER=openai.
# OPENAI_API_KEY=sk-...
# OPENAI_EMBED_MODEL=text-embedding-3-small   # 1536-dim (set EMBED_DIM=1536)
# OPENAI_LLM_MODEL=gpt-4o

# ── GCP / Vertex AI ──────────────────────────────────────────────────────────
GCP_PROJECT_ID=top-arc-65ca
GCP_LOCATION_ID=australia-southeast1

# Embedding model (768-dim)
GCP_EMBED_MODEL=text-embedding-005

# Gemini model for re-ranking
GCP_GEMINI_MODEL=gemini-2.5-flash

# Full path to the gcloud binary
GCLOUD_PATH=/Users/s748779/gemini_local/google-cloud-sdk/bin/gcloud

# ── Network ───────────────────────────────────────────────────────────────────
# Corporate HTTPS proxy (leave empty if no proxy is needed)
HTTPS_PROXY=cloudproxy.auiag.corp:8080

# ── Database ──────────────────────────────────────────────────────────────────
# psycopg2 DSN string
DB_DSN=dbname=anzsic_db

# ── Pipeline tuning ───────────────────────────────────────────────────────────
# RRF smoothing constant (standard = 60)
RRF_K=60

# Stage 1 candidates per search system before RRF fusion
RETRIEVAL_N=20

# Final results returned to the caller
TOP_K=5

# Embedding vector dimensionality (must match GCP_EMBED_MODEL output)
EMBED_DIM=768

# Batch size for embed_documents_batch()
EMBED_BATCH_SIZE=50

# ── Data paths ────────────────────────────────────────────────────────────────
# Absolute or relative path to the ANZSIC master CSV
# (default: ../../anzsic_master.csv relative to this file)
# MASTER_CSV_PATH=/path/to/anzsic_master.csv

# ── Timeouts (seconds) ────────────────────────────────────────────────────────
EMBED_TIMEOUT=30
LLM_TIMEOUT=90

# ── Retry settings ────────────────────────────────────────────────────────────
EMBED_RETRIES=3
